<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="sid-38422fae-e03e-43a3-bef4-bd33b32041b2" targetNamespace="http://bpmn.io/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="18.6.1">
  <collaboration id="Collaboration_1t8tvn7">
    <participant id="Participant_1nauxsv" name="Usuário" processRef="Process_1" />
    <participant id="Participant_0wvstcj" name="Sistema" processRef="Process_0j6qc87" />
    <participant id="Participant_1uffxzp" name="Banco de dados" processRef="Process_1q5ir1c" />
    <messageFlow id="Flow_1k7dwbm" sourceRef="Activity_0x9rm8v" targetRef="Event_0whw44s" />
    <messageFlow id="Flow_0evfnvh" sourceRef="Event_0mychmq" targetRef="Activity_03ms03k" />
    <messageFlow id="Flow_0xg5c0j" sourceRef="Event_19yla1k" targetRef="Activity_0fhcbgw" />
  </collaboration>
  <process id="Process_1" isExecutable="false">
    <startEvent id="Event_0whw44s" name="Gerar qr code" />
    <task id="Activity_0i2xjoo" name="informa o valor">
      <incoming>Flow_0nmvuwf</incoming>
      <outgoing>Flow_1cg6wm9</outgoing>
    </task>
    <startEvent id="Event_08z8d12" name="Solicitação de transferência">
      <outgoing>Flow_0nmvuwf</outgoing>
    </startEvent>
    <exclusiveGateway id="Gateway_18zr0c2" name="Confirmação">
      <incoming>Flow_1cg6wm9</incoming>
      <outgoing>Flow_106nwdg</outgoing>
      <outgoing>Flow_1hu0ssz</outgoing>
    </exclusiveGateway>
    <endEvent id="Event_19yla1k" name="Não">
      <incoming>Flow_106nwdg</incoming>
    </endEvent>
    <endEvent id="Event_0mychmq">
      <incoming>Flow_1hu0ssz</incoming>
    </endEvent>
    <sequenceFlow id="Flow_0nmvuwf" sourceRef="Event_08z8d12" targetRef="Activity_0i2xjoo" />
    <sequenceFlow id="Flow_1cg6wm9" sourceRef="Activity_0i2xjoo" targetRef="Gateway_18zr0c2" />
    <sequenceFlow id="Flow_106nwdg" sourceRef="Gateway_18zr0c2" targetRef="Event_19yla1k" />
    <sequenceFlow id="Flow_1hu0ssz" name="Sim" sourceRef="Gateway_18zr0c2" targetRef="Event_0mychmq" />
  </process>
  <process id="Process_0j6qc87">
    <task id="Activity_0x9rm8v" name="Chamar API Asaas para criar qr code">
      <outgoing>Flow_1vlt6eh</outgoing>
    </task>
    <task id="Activity_1f2ksg6" name="Aguardar notificação de pagamento">
      <incoming>Flow_1vlt6eh</incoming>
      <outgoing>Flow_0vl8tk8</outgoing>
    </task>
    <task id="Activity_03ms03k" name="Calcular retenção de 7%">
      <incoming>Flow_0vl8tk8</incoming>
      <outgoing>Flow_0zgs9n3</outgoing>
    </task>
    <sequenceFlow id="Flow_1vlt6eh" sourceRef="Activity_0x9rm8v" targetRef="Activity_1f2ksg6" />
    <sequenceFlow id="Flow_0vl8tk8" sourceRef="Activity_1f2ksg6" targetRef="Activity_03ms03k" />
    <task id="Activity_1drw3i4" name="Chamar API para executar transferência">
      <incoming>Flow_0zgs9n3</incoming>
      <outgoing>Flow_097jusn</outgoing>
    </task>
    <sequenceFlow id="Flow_0zgs9n3" sourceRef="Activity_03ms03k" targetRef="Activity_1drw3i4" />
    <sequenceFlow id="Flow_097jusn" sourceRef="Activity_1drw3i4" targetRef="Activity_0jb9nkd" />
    <task id="Activity_0jb9nkd" name="Registrar transação de saída no BD">
      <incoming>Flow_097jusn</incoming>
      <outgoing>Flow_07pyu6v</outgoing>
      <dataOutputAssociation id="DataOutputAssociation_168ztw9">
        <targetRef>DataStoreReference_0l51uxk</targetRef>
      </dataOutputAssociation>
    </task>
    <task id="Activity_0fhcbgw" name="Notificar usuário sobre saldo insuficiente" />
    <sequenceFlow id="Flow_07pyu6v" sourceRef="Activity_0jb9nkd" targetRef="Activity_18etcxr" />
    <task id="Activity_18etcxr" name="Atualizar banco de dados">
      <incoming>Flow_07pyu6v</incoming>
      <dataOutputAssociation id="DataOutputAssociation_0o9jh2z">
        <targetRef>DataStoreReference_0l51uxk</targetRef>
      </dataOutputAssociation>
    </task>
  </process>
  <process id="Process_1q5ir1c">
    <dataStoreReference id="DataStoreReference_0l51uxk" name="saldo atualizado" />
  </process>
  <bpmndi:BPMNDiagram id="BpmnDiagram_1">
    <bpmndi:BPMNPlane id="BpmnPlane_1" bpmnElement="Collaboration_1t8tvn7">
      <bpmndi:BPMNShape id="Participant_1nauxsv_di" bpmnElement="Participant_1nauxsv" isHorizontal="true">
        <omgdc:Bounds x="170" y="80" width="840" height="300" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0whw44s_di" bpmnElement="Event_0whw44s">
        <omgdc:Bounds x="222" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="206" y="126" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0i2xjoo_di" bpmnElement="Activity_0i2xjoo">
        <omgdc:Bounds x="440" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_08z8d12_di" bpmnElement="Event_08z8d12">
        <omgdc:Bounds x="352" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="336" y="205" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_18zr0c2_di" bpmnElement="Gateway_18zr0c2" isMarkerVisible="true">
        <omgdc:Bounds x="465" y="255" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="459" y="312" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19yla1k_di" bpmnElement="Event_19yla1k">
        <omgdc:Bounds x="382" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="389" y="238" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0mychmq_di" bpmnElement="Event_0mychmq">
        <omgdc:Bounds x="572" y="262" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0nmvuwf_di" bpmnElement="Flow_0nmvuwf">
        <omgdi:waypoint x="388" y="180" />
        <omgdi:waypoint x="440" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cg6wm9_di" bpmnElement="Flow_1cg6wm9">
        <omgdi:waypoint x="490" y="220" />
        <omgdi:waypoint x="490" y="255" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_106nwdg_di" bpmnElement="Flow_106nwdg">
        <omgdi:waypoint x="465" y="280" />
        <omgdi:waypoint x="418" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hu0ssz_di" bpmnElement="Flow_1hu0ssz">
        <omgdi:waypoint x="515" y="280" />
        <omgdi:waypoint x="572" y="280" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="534" y="293" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0wvstcj_di" bpmnElement="Participant_0wvstcj" isHorizontal="true">
        <omgdc:Bounds x="170" y="380" width="840" height="270" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0x9rm8v_di" bpmnElement="Activity_0x9rm8v">
        <omgdc:Bounds x="210" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f2ksg6_di" bpmnElement="Activity_1f2ksg6">
        <omgdc:Bounds x="360" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03ms03k_di" bpmnElement="Activity_03ms03k">
        <omgdc:Bounds x="510" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1drw3i4_di" bpmnElement="Activity_1drw3i4">
        <omgdc:Bounds x="660" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0jb9nkd_di" bpmnElement="Activity_0jb9nkd">
        <omgdc:Bounds x="660" y="530" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fhcbgw_di" bpmnElement="Activity_0fhcbgw">
        <omgdc:Bounds x="280" y="520" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_18etcxr_di" bpmnElement="Activity_18etcxr">
        <omgdc:Bounds x="510" y="530" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1vlt6eh_di" bpmnElement="Flow_1vlt6eh">
        <omgdi:waypoint x="310" y="450" />
        <omgdi:waypoint x="360" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vl8tk8_di" bpmnElement="Flow_0vl8tk8">
        <omgdi:waypoint x="460" y="450" />
        <omgdi:waypoint x="510" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zgs9n3_di" bpmnElement="Flow_0zgs9n3">
        <omgdi:waypoint x="610" y="450" />
        <omgdi:waypoint x="660" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_097jusn_di" bpmnElement="Flow_097jusn">
        <omgdi:waypoint x="710" y="490" />
        <omgdi:waypoint x="710" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07pyu6v_di" bpmnElement="Flow_07pyu6v">
        <omgdi:waypoint x="660" y="570" />
        <omgdi:waypoint x="610" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_1uffxzp_di" bpmnElement="Participant_1uffxzp" isHorizontal="true">
        <omgdc:Bounds x="170" y="650" width="840" height="250" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0l51uxk_di" bpmnElement="DataStoreReference_0l51uxk">
        <omgdc:Bounds x="535" y="695" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="520" y="752" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1k7dwbm_di" bpmnElement="Flow_1k7dwbm">
        <omgdi:waypoint x="240" y="410" />
        <omgdi:waypoint x="240" y="198" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0evfnvh_di" bpmnElement="Flow_0evfnvh">
        <omgdi:waypoint x="590" y="298" />
        <omgdi:waypoint x="590" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xg5c0j_di" bpmnElement="Flow_0xg5c0j">
        <omgdi:waypoint x="400" y="298" />
        <omgdi:waypoint x="400" y="409" />
        <omgdi:waypoint x="330" y="409" />
        <omgdi:waypoint x="330" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_168ztw9_di" bpmnElement="DataOutputAssociation_168ztw9">
        <omgdi:waypoint x="673" y="610" />
        <omgdi:waypoint x="585" y="704" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0o9jh2z_di" bpmnElement="DataOutputAssociation_0o9jh2z">
        <omgdi:waypoint x="560" y="610" />
        <omgdi:waypoint x="560" y="695" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
